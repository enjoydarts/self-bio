---
import { getCollection } from 'astro:content';

const allServices = await getCollection('services');
const sortOrder = ['web-development', 'testing', 'consulting', 'infrastructure'];
const services = allServices.sort((a, b) => {
  return sortOrder.indexOf(a.id) - sortOrder.indexOf(b.id);
});
---

<section class="mb-[50px]">
  <h2 class="text-lg font-semibold text-white mb-5">Services</h2>
  <div class="flex flex-col gap-7">
    {services.map((category) => (
      <div>
        <h3 class="text-sm font-semibold text-gray-600 mb-3 uppercase tracking-[0.5px]">
          {category.data.title.en} / {category.data.title.ja}
        </h3>
        <ul class="service-items list-none flex flex-col gap-[10px]">
          {category.data.items.map((item) => (
            <li class="text-sm text-gray-700 pl-4 relative leading-[1.5]">
              {item.en}<br /><span class="text-[13px] text-gray-600 inline-block mt-[2px]">{item.ja}</span>
            </li>
          ))}
        </ul>
      </div>
    ))}
  </div>
</section>
