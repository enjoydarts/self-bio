---
import { getCollection } from 'astro:content';
import TechIcon from './ui/TechIcon.astro';

const allTechStack = await getCollection('tech-stack');
const sortOrder = ['languages', 'frameworks', 'infrastructure', 'database', 'devops'];
const techStack = allTechStack.sort((a, b) => {
  return sortOrder.indexOf(a.id) - sortOrder.indexOf(b.id);
});
---

<section class="mb-[50px]">
  <h2 class="text-lg font-semibold text-white mb-5">Tech Stack</h2>
  <div class="flex flex-col gap-8">
    {techStack.map((category) => (
      <div class="flex flex-col gap-4">
        <h3 class="text-sm font-semibold text-gray-600 uppercase tracking-[0.5px]">{category.data.title}</h3>
        <div class="flex flex-wrap gap-4">
          {category.data.items.map((item) => (
            <TechIcon item={item} />
          ))}
        </div>
      </div>
    ))}
  </div>
</section>
